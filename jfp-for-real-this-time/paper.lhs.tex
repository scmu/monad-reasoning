\documentclass{jfp}

 \DeclareTextCommandDefault{\nobreakspace}{\leavevmode\nobreak\ } 
\input{macros.tex}
\let\Bbbk\undefined
%include polycode.fmt
%include forall.fmt
%include fmts/symbols.fmt

% add margin before code
\usepackage{enumitem}
\newlist{qwq}{itemize}{1}
\setlist[qwq]{label={}, nosep, leftmargin=1em}
\newcommand{\indentbegin}{\begin{qwq} \item}
\newcommand{\indentend}{\end{qwq}}
%subst code a = "\indentbegin \begin{hscode}\SaveRestoreHook'n" a "\ColumnHook'n\end{hscode}\resethooks'n\indentend "
% NOTE: The above line is not a comment. It is a lhs command to insert indentation for code block.

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}

\begin{document}

\journaltitle{JFP}
\cpr{Cambridge University Press}
\doival{10.1017/xxxxx}

% \lefttitle{}
% \righttitle{Journal of Functional Programming}

\totalpg{\pageref{lastpage01}}
\jnlDoiYr{2022}

\title{From High to Low: Simulating Nondeterminism and State with State}

\begin{authgrp}
\author{Wenhao Tang}
\affiliation{University of Edinburgh \\
        (\email{wenhao.tang@@ed.ac.uk})}
\end{authgrp}
\begin{authgrp}
\author{Tom Schrijvers}
\affiliation{KU Leuven Department of Computer Science \\
        (\email{tom.schrijvers@@kuleuven.be})}
\end{authgrp}

\begin{abstract}
  Just as of programming languages, some effects are considered to be
  more low-level than others. Low-level effects usually allow a more
  fine-grained control over program execution and resources, while
  others offer a higher level of abstraction. It is usually desirable
  to write programs using higher-level effects, and at the same time
  still benefit from the optimisations enabled by lower-level effects.

  This paper studies how higher-level effects can be simulated in
  terms of low-level effects.
  %
  In particular, our contributions focus at the different interactions
  between state and nondeterminism, known as the local-state and
  global-state semantics.
  %
  We model state and nondeterminism with algebraic effects and
  handlers, and simulate the high-level local-state semantics with a
  single state effect via a sequence of translations.
  %
  We prove the correctness of translations by equational reasoning on
  effect handlers.
  %
%   We distinguish between local-state and global-state semantics and
%   transform the higher-level nondeterminism to state.
  %
  Moreover, we demonstrate possible optimisations such as efficient
  backtracking and mutable states.
  %
%   We illustrate our simulations on the well-known n-queens example.
%   prove all simulation functions correct using equational reasoning
%   techniques.
  \wenhao{TODO: fill in all contributions.}
\end{abstract}

\maketitle

%include sections/introduction.lhs

%include sections/Background.lhs

%include sections/Overview.lhs

%include sections/LocalGlobal.lhs

%include sections/NondetState.lhs

%include sections/Combination.lhs

%include sections/Undo.lhs

%include sections/MutableState.lhs

% %include sections/optimizations.lhs

%include sections/related_work.lhs

%include sections/conclusion.lhs

\subsection*{Conflicts of Interest}

None.

%%
%% The acknowledgments section is defined using the "acks" environment
%% (and NOT an unnumbered section). This ensures the proper
%% identification of the section in the article metadata, and the
%% consistent spelling of the heading.
%\begin{acks}
%To Robert, for the bagels and explaining CMYK and color spaces.
%\end{acks}

%%
%% The next two lines define the bibliography style to be used, and
%% the bibliography file.
\bibliographystyle{jfplike}
\bibliography{bibliography}


\clearpage

\appendix

%%
%% If your work has an appendix, this is the place to put it.
%\appendix

%include appendices/local_law.lhs

%include appendices/local_global_sim.lhs

% %include appendices/initiality_nd.lhs

% %include appendices/initiality_state.lhs

%include appendices/nondet_state_sim.lhs

%include appendices/states_state_sim.lhs

%include appendices/final_simulate.lhs

%include appendices/trail_stack_sim.lhs

%include appendices/additional_equations.lhs

\end{document}
