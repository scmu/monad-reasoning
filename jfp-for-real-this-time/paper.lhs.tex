\documentclass[acmsmall,review,anonymous]{acmart}

%\setmonofont{JetBrains Mono}[
%  Scale=MatchLowercase
%]


%%
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}

%% Rights management information.  This information is sent to you
%% when you complete the rights form.  These commands have SAMPLE
%% values in them; it is your responsibility as an author to replace
%% the commands and values with those provided to you when you
%% complete the rights form.
\setcopyright{acmcopyright}
\copyrightyear{2021}
\acmYear{2021}
\acmDOI{xxx}


%%
%% These commands are for a JOURNAL article.
%\acmJournal{JACM}
%\acmVolume{37}
%\acmNumber{4}
%\acmArticle{111}
%\acmMonth{8}

%% These commands are for a PROCEEDINGS abstract or paper.
% \acmConference[ICFP '21]{ICFP '21}{August 22--27, 2021}{Virtual}
%\acmBooktitle{ICFP '21}
%\acmPrice{15.00}
%\acmISBN{978-1-4503-XXXX-X/18/06}

%%
%% Submission ID.
%% Use this when submitting an article to a sponsored event. You'll
%% receive a unique submission ID from the organizers
%% of the event, and this ID should be used as the parameter to this command.
%%\acmSubmissionID{123-A56-BU3}

%%
%% The majority of ACM publications use numbered citations and
%% references.  The command \citestyle{authoryear} switches to the
%% "author year" style.
%%
%% If you are preparing content for an event
%% sponsored by ACM SIGGRAPH, you must use the "author year" style of
%% citations and references.
%% Uncommenting
%% the next command will enable that style.
\citestyle{acmauthoryear}

\input{macros.tex}
\let\Bbbk\undefined
%include polycode.fmt
%include forall.fmt
%include fmts/symbols.fmt

% add margin before code
\usepackage{enumitem}
\newlist{qwq}{itemize}{1}
\setlist[qwq]{label={}, nosep}
\newcommand{\indentbegin}{\begin{qwq} \item}
\newcommand{\indentend}{\end{qwq}}
%subst code a = "\indentbegin \begin{hscode}\SaveRestoreHook'n" a "\ColumnHook'n\end{hscode}\resethooks'n\indentend "

%%
%% end of the preamble, start of the body of the document source.
\begin{document}

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
\title{From High to Low: Simulating Nondeterminism and State with State}

%% ALTERNATIVE TITLES
% Simulating Nondeterminism and State
% Simulating Nondeterminism and State with State
% Do it at a Lower Level
% Simulating Higher-Level Effects with Lower-Level Effects
% From High to Low: a Simulation
% From High to Low: Simulating Nondeterminism and State with State
% Nondeterminism + State = State

%%
%% The "author" command and its associated commands are used to define
%% the authors and their affiliations.
%% Of note is the shared affiliation of the first two authors, and the
%% "authornote" and "authornotemark" commands
%% used to denote shared contribution to the research.
% \author{name}
% %\authornote{Both authors contributed equally to this research.}
% \email{email}
% \orcid{orcid}
% \affiliation{%
%   \institution{KU Leuven}
%   \country{Belgium}
% }

%%
%% By default, the full list of authors will be used in the page
%% headers. Often, this list is too long, and will overlap
%% other information printed in the page headers. This command allows
%% the author to define a more concise list
%% of authors' names for this purpose.
%\renewcommand{\shortauthors}{Trovato and Tobin, et al.}

%%
%% The abstract is a short summary of the work to be presented in the
%% article.
\begin{abstract}
  Just as in programming languages, one can think of effects being more
  low-level than others. Indeed, some effects allow a more fine-grained
  control over program execution and resources. It is desirable to 
  write programs using higher-level effects, and at the same time still
  benefit from the possible optimizations lower-level effects offer. 
  This paper studies how effects can be simulated using lower-level effects.
  In particular, we look at the possible interactions between state
  and nondeterminism and model these interactions using a single state 
  effect. We distinguish between local-state and global-state semantics
  and transform the higher-level nondeterminism to state. We demonstrate
  possible optimizations such as efficient backtracking and mutable state.
  We illustrate our simulations on the well-known n-queens example and 
  prove all simulation functions correct using equational reasoning techniques.
\end{abstract}

%%
%% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
%% Please copy and paste the code instead of the example below.
%%
% \begin{CCSXML}
% 	<ccs2012>
% 	<concept>
% 	<concept_id>10011007.10011006.10011008.10011009.10011012</concept_id>
% 	<concept_desc>Software and its engineering~Functional languages</concept_desc>
% 	<concept_significance>500</concept_significance>
% 	</concept>
% 	<concept>
% 	<concept_id>10011007.10011006.10011008.10011024.10011027</concept_id>
% 	<concept_desc>Software and its engineering~Control structures</concept_desc>
% 	<concept_significance>500</concept_significance>
% 	</concept>
% 	</ccs2012>
% \end{CCSXML}

% \ccsdesc[500]{Software and its engineering~Functional languages}
% \ccsdesc[500]{Software and its engineering~Control structures}

%%
%% Keywords. The author(s) should pick words that accurately describe
%% the work being presented. Separate the keywords with commas.
\keywords{effects, effect handlers, modularity, nondeterminism, 
          state, equational reasoning, monads}

\maketitle

%include sections/introduction.lhs

%include sections/Background.lhs

%include sections/LocalGlobal.lhs

%include sections/NondetState.lhs

%include sections/combination.lhs

% %include sections/optimizations.lhs

%include sections/related_work.lhs

%include sections/conclusion.lhs

%%
%% The acknowledgments section is defined using the "acks" environment
%% (and NOT an unnumbered section). This ensures the proper
%% identification of the section in the article metadata, and the
%% consistent spelling of the heading.
%\begin{acks}
%To Robert, for the bagels and explaining CMYK and color spaces.
%\end{acks}

%%
%% The next two lines define the bibliography style to be used, and
%% the bibliography file.
\bibliographystyle{ACM-Reference-Format}
\bibliography{bibliography}


\clearpage

\appendix

%%
%% If your work has an appendix, this is the place to put it.
%\appendix

%include appendices/initiality_nd.lhs

% %include appendices/initiality_state.lhs

%include appendices/nondet_state_sim.lhs

%include appendices/local_global_sim.lhs

%include appendices/states_state_sim.lhs

%include appendices/final_simulate.lhs

\end{document}
\endinput
%%
%% End of file `sample-acmsmall.tex'.
